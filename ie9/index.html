<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="./node_modules/es6-promise/dist/es6-promise.auto.min.js"></script>
    <script src="./node_modules/fetch-ie8/fetch.js"></script>
</head>
<body>
    <ul id="nav">
 
    </ul>
    <article>
   
    </article>
   
   
   <script>
    fetch('fetch').then(function (res) {
    res.text().then(function (text) {
        var link = text.split(',');
        var result = '';
        link.forEach(function (el) {
            result += "<li><a href='#" + el + "'onclick=\"fetchFunc('" + el + "')\">" + el + "</a></li>";
        });
        document.getElementById('nav').innerHTML = result;
    });
});

function fetchFunc(name) {
    fetch(name).then(function (res) {
        res.text().then(function (text) {
            document.querySelector('article').innerHTML = text;
        });
    });
}

if (location.hash) {
    console.log('hash가 있음');
    var hash = location.hash.substr(1);
    fetchFunc(hash);
} else {
    fetchFunc('welcome');
}
    
    </script>


</body>
</html>